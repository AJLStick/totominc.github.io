function setItem(a,b){localStorage.setItem(a,JSON.stringify(b))}function getItem(a){return JSON.parse(localStorage.getItem(a))}function removeItem(a){localStorage.removeItem(a)}function saveData(){for(var a=0;a<allVars.length;a++)setItem(allVars[a],window[allVars[a]])}function loadData(){for(var a=0;a<allVars.length;a++)null!=getItem(allVars[a])&&void 0!=getItem(allVars[a])&&(window[allVars[a]]=getItem(allVars[a]));updateStats(),updateBuilds()}function resetData(){var a=confirm("Are you sure to hard-reset? You will not earn tokens, and will start everything from the beginning!");if(1==a){var b=confirm("Are you really sure?");if(1==b){for(var c=0;c<allVars.length;c++)removeItem(allVars[c]);location.reload()}}}function cheatReset(){for(var a=0;a<allVars.length;a++)removeItem(allVars[a]);location.reload()}function initVars(){money=0,totalMoney=money,tokens=0,tokensOn=0,tokensRate=1;for(var a=0;a<t1.length;a++)t1owned.push(0),t1owned[0]=1,t1progress.push(0)}function initGame(){$("#s-money").html("Money : "+fix(money,2)+"$"),$("#s-totalMoney").html("Total money : "+fix(totalMoney,2)+"$"),$("#s-tokens").html("Tokens : "+fix(tokens,0)),$("#s-tokensRate").html("Tokens Rate : "+fix(tokensRate,1)+"%");for(var a=0;a<t1.length;a++){var b=t1[a];$("#t1-n"+(a+1)).html(b.name+" : "),$("#t1-r"+(a+1)).html(fix(getInc(a),2)+"$ "),$("#t1-o"+(a+1)).html("("+t1owned[a]+" owned)"),$("#t1-b"+(a+1)+"c1").html("x1 : "+fix(getPrice(a),2)+"$ - "),$("#t1-b"+(a+1)+"c1").attr("onclick","buyBuilding("+a+", 1)"),$("#t1-b"+(a+1)+"c2").html("x10 : "+fix(displayPrice(a,10),2)+"$"),$("#t1-b"+(a+1)+"c2").attr("onclick","buyBuilding("+a+", 10)"),$("#t1-b"+(a+1)+"c3").html("x50 : "+fix(displayPrice(a,50),2)+"$ - "),$("#t1-b"+(a+1)+"c3").attr("onclick","buyBuilding("+a+", 50)"),$("#t1-b"+(a+1)+"c4").html("x100 : "+fix(displayPrice(a,100),2)+"$"),$("#t1-b"+(a+1)+"c4").attr("onclick","buyBuilding("+a+", 100)")}}function updateGame(a){a=1;for(var b=0;b<t1.length;b++)if(t1owned[b]>0&&t1progress[b]>0)if(t1progress[b]+=a/fps,t1progress[b]>getTime(b))t1progress[b]=0,getMoney(getInc(b)*t1owned[b]),updateStats(),t1[b].trigger=!1,$("#b-f"+(b+1)).css("width",0);else{var c=100*(t1progress[b]/getTime(b));c=Math.max(c,1),$("#b-f"+(b+1)).css("width",c+"%")}60>fps&&(cheatAvert++,alert("You are cheating, you have "+cheatAvert+"/3 alerts. If you continue your data will be wiped..."),fps=60),fps>60&&(cheatAvert++,alert("You are cheating, you have "+cheatAvert+"/3 alerts. If you continue your data will be wiped..."),fps=60),3==cheatAvert&&cheatReset()}function getInc(a){return t1[a].reward}function getMoney(a){money+=a,totalMoney+=a}function getPrice(a){var b=t1[a];return b.price*Math.pow(b.inflation,t1owned[a])}function getTime(a){return t1[a].time}function displayPrice(a,b){for(var c=b,d=t1[a],e=0,f=c+t1owned[a];f>t1owned[a];)c--,f=c+t1owned[a],e+=d.price*Math.pow(d.inflation,f);return e}function startBuild(a){0==t1[a].trigger&&(t1progress[a]=.01,t1[a].trigger=!0)}function updateBuilds(){for(var a=0;a<t1.length;a++){var b=t1[a];$("#t1-n"+(a+1)).html(b.name+" : "),$("#t1-r"+(a+1)).html(fix(getInc(a)*t1owned[a],2)+"$ "),$("#t1-o"+(a+1)).html("("+t1owned[a]+" owned)"),$("#t1-b"+(a+1)+"c1").html("x1 : "+fix(getPrice(a),2)+"$ - "),$("#t1-b"+(a+1)+"c2").html("x10 : "+fix(displayPrice(a,10),2)+"$"),$("#t1-b"+(a+1)+"c3").html("x50 : "+fix(displayPrice(a,50),2)+"$ - "),$("#t1-b"+(a+1)+"c4").html("x100 : "+fix(displayPrice(a,100),2)+"$")}}function updateStats(){$("#s-money").html("Money : "+fix(money,2)+"$"),$("#s-totalMoney").html("Total money : "+fix(totalMoney,2)+"$"),$("#s-tokens").html("Tokens : "+fix(tokens,0)),$("#s-tokensRate").html("Tokens Rate : "+fix(tokensRate,1)+"%")}function Building(a,b,c,d,e,f){this.name=a,this.price=b,this.reward=c,this.inflation=d,this.time=e,this.trigger=f}function buyBuilding(a,b){var c=b;if(c>0)for(var d=0;c>d;d++)buyBuildingOnce(a);else for(;money>=getPrice(a);)buyBuildingOnce(a);updateBuilds(),updateStats()}function buyBuildingOnce(a){money<getPrice(a)||(money-=getPrice(a),t1owned[a]++)}var maxpx=$(document).height(),headerpx=45,marginpx=10;$(".row").css("max-height",maxpx-headerpx-marginpx+"px"),$(".col-md-4").css("max-height",maxpx-headerpx-marginpx+"px");var money,totalMoney,tokens,tokensOn,tokensRate,gameInit=!1,fps=60,interval=1e3/fps,t1=[new Building("Lemonade Stand",4,1,1.09,1.5,!1),new Building("Cookie Stand",70,60,1.17,3,!1),new Building("Car Wash",720,540,1.16,6,!1),new Building("Oil Pump",8640,4320,1.15,12,!1),new Building("Meth Lab",103680,51840,1.14,24,!1)],t1owned=[],t1progress=[],cheatAvert=0,allVars=["money","totalMoney","tokens","tokensOn","tokensRate","cheatAvert","t1owned","t1progress"];window.onload=function(){initVars(),loadData(),initGame(),gameInit=!0},window.setInterval(function(){updateGame()},interval);