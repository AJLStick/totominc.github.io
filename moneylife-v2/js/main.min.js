function setItem(a,b){localStorage.setItem(a,JSON.stringify(b))}function getItem(a){return JSON.parse(localStorage.getItem(a))}function removeItem(a){localStorage.removeItem(a)}function saveData(){for(var a=0;a<allVars.length;a++)setItem(allVars[a],window[allVars[a]])}function loadData(){for(var a=0;a<allVars.length;a++)null!=getItem(allVars[a])&&void 0!=getItem(allVars[a])&&(window[allVars[a]]=getItem(allVars[a]));updateStats(),updateBuilds()}function resetData(){var a=confirm("Are you sure to hard-reset? You will not earn tokens, and will start everything from the beginning!");if(1==a){var b=confirm("Are you really sure?");if(1==b){for(var c=0;c<allVars.length;c++)removeItem(allVars[c]);location.reload()}}}function cheatReset(){alert("You have cheated too many times, the game will hard reset.");for(var a=0;a<allVars.length;a++)removeItem(allVars[a]);location.reload()}function softReset(){var a=confirm("Do you want to soft reset, restart everything from the beginning and goes from "+fix(tokens,0)+" tokens to "+fix(getTokensOn(),0)+" tokens?");if(1==a){var b=totalMoney,c=getTokensOn(),d=cheatAvert;initVars(),totalMoney=b,tokens=c,tokensVerif=tokens,cheatAvert=d,saveData(),location.reload()}}function initVars(){money=0,totalMoney=money,tokens=0,tokensOn=0,tokensRate=1;for(var a=0;a<t1.length;a++)t1owned.push(0),t1owned[0]=1,t1progress.push(0);for(var a=0;a<managers.length;a++)managersOwned.push(!1)}function initGame(){$("#s-money").html("Money : "+fix(money,2)+"$"),$("#s-totalMoney").html("Total money : "+fix(totalMoney,2)+"$"),$("#s-tokens").html("Tokens : "+fix(tokens,0)),$("#s-tokensOn").html("Tokens on reset : "+fix(getTokensOn(),0)),$("#s-tokensRate").html("Tokens Rate : "+fix(tokensRate,1)+"%");for(var a=0;a<t1.length;a++){var b=t1[a];$("#t1-n"+(a+1)).html(b.name+" :"),$("#t1-r"+(a+1)).html(" "+fix(getInc(a)*t1owned[a],2)+"$ "),$("#t1-o"+(a+1)).html("("+t1owned[a]+" owned)"),$("#t1-b"+(a+1)+"c1").html("x1 : "+fix(getPrice(a),2)+"$ - "),$("#t1-b"+(a+1)+"c1").attr("onclick","buyBuilding("+a+", 1)"),$("#t1-b"+(a+1)+"c2").html("x10 : "+fix(displayPrice(a,10),2)+"$"),$("#t1-b"+(a+1)+"c2").attr("onclick","buyBuilding("+a+", 10)"),$("#t1-b"+(a+1)+"c3").html("x50 : "+fix(displayPrice(a,50),2)+"$ - "),$("#t1-b"+(a+1)+"c3").attr("onclick","buyBuilding("+a+", 50)"),$("#t1-b"+(a+1)+"c4").html("x100 : "+fix(displayPrice(a,100),2)+"$"),$("#t1-b"+(a+1)+"c4").attr("onclick","buyBuilding("+a+", 100)")}for(var a=0;a<managers.length;a++){var c=managers[a];$("#m-n"+(a+1)).html(c.name+"<br>"),$("#m-c"+(a+1)).html("cost : "+fix(c.price,0)+"$"),managersOwned[a]&&$("#s-m"+(a+1)).css("display","none")}}function updateGame(a){if(a=1,1==gameInit){for(var b=0;b<t1.length;b++)if(t1owned[b]>0&&(t1progress[b]>0||managersOwned[b])){var c=t1[b],d=getTime(b);if(t1progress[b]+=a/fps,managersOwned[b]){getMoney(Math.floor(t1progress[b]/d)*getInc(b)*t1owned[b]),t1progress[b]%=d;var e=100*(t1progress[b]/d);.1>d&&(e=100),e=Math.max(e,1),updateStats(),$("#b-f"+(b+1)).css("width",e+"%")}else if(t1progress[b]>=d&&1==c.trigger)getMoney(getInc(b)*t1owned[b]),t1progress[b]=0,c.trigger=!1,updateStats(),$("#b-f"+(b+1)).css("width",0);else{var e=100*(t1progress[b]/d);e=Math.max(e,1),c.trigger=!0,$("#b-f"+(b+1)).css("width",e+"%")}}$("#s-tokensOn").html("Tokens on reset : "+fix(getTokensOn(),0))}}function getInc(a){return t1[a].reward}function getMoney(a){money+=a,totalMoney+=a,moneyVerif+=a,totalmoneyVerif+=a}function getPrice(a){var b=t1[a];return b.price*Math.pow(b.inflation,t1owned[a])}function getTokensOn(){return Math.floor(10*Math.sqrt(totalMoney/1e13))}function getTime(a){return t1[a].time}function displayPrice(a,b){for(var c=b,d=t1[a],e=0,f=c+t1owned[a];f>t1owned[a];)c--,f=c+t1owned[a],e+=d.price*Math.pow(d.inflation,f);return e}function startBuild(a){0==t1[a].trigger&&(t1progress[a]=.01,t1[a].trigger=!0)}function updateBuilds(){for(var a=0;a<t1.length;a++){var b=t1[a];$("#t1-n"+(a+1)).html(b.name+" :"),$("#t1-r"+(a+1)).html(" "+fix(getInc(a)*t1owned[a],2)+"$ "),$("#t1-o"+(a+1)).html("("+t1owned[a]+" owned)"),$("#t1-b"+(a+1)+"c1").html("x1 : "+fix(getPrice(a),2)+"$ - "),$("#t1-b"+(a+1)+"c2").html("x10 : "+fix(displayPrice(a,10),2)+"$"),$("#t1-b"+(a+1)+"c3").html("x50 : "+fix(displayPrice(a,50),2)+"$ - "),$("#t1-b"+(a+1)+"c4").html("x100 : "+fix(displayPrice(a,100),2)+"$")}}function updateStats(){$("#s-money").html("Money : "+fix(money,2)+"$"),$("#s-totalMoney").html("Total money : "+fix(totalMoney,2)+"$"),$("#s-tokens").html("Tokens : "+fix(tokens,0)),$("#s-tokensOn").html("Tokens on reset : "+fix(getTokensOn(),0)),$("#s-tokensRate").html("Tokens Rate : "+fix(tokensRate,1)+"%")}function a98q7w3q8z(){60>fps&&(cheatAvert++,alert("CHEAT DETECTED ! FPS changed, you have "+cheatAvert+"/3 alerts. If you continue your data will be wiped!"),fps=60),fps>60&&(cheatAvert++,alert("CHEAT DETECTED ! FPS changed, you have "+cheatAvert+"/3 alerts. If you continue your data will be wiped!"),fps=60),money>moneyVerif&&(cheatAvert++,alert("CHEAT DETECTED ! Money changed, you have "+cheatAvert+"/3 alerts. If you continue your data will be wiped!"),money=moneyVerif),totalMoney>totalmoneyVerif&&(cheatAvert++,alert("CHEAT DETECTED ! Total money changed, you have "+cheatAvert+"/3 alerts. If you continue your data will be wiped!"),totalMoney=totalmoneyVerif),tokens>tokensVerif&&(cheatAvert++,alert("CHEAT DETECTED ! Tokens changed, you have "+cheatAvert+"/3 alerts. If you continue your data will be wiped!"),tokens=tokensVerif),3==cheatAvert&&cheatReset()}function Building(a,b,c,d,e,f){this.name=a,this.price=b,this.reward=c,this.inflation=d,this.time=e,this.trigger=f}function buyBuilding(a,b){var c=b;if(c>0)for(var d=0;c>d;d++)buyBuildingOnce(a);else for(;money>=getPrice(a);)buyBuildingOnce(a);updateBuilds(),updateStats()}function buyBuildingOnce(a){money<getPrice(a)||(money-=getPrice(a),moneyVerif-=getPrice(a),t1owned[a]++)}function Manager(a,b){this.name=a,this.price=b}function buyManager(a){money>=managers[a].price&&(money-=managers[a].price,moneyVerif-=managers[a].price,managersOwned[a]=!0,$("#s-m"+(a+1)).css("display","none"),updateStats())}var maxpx=$(document).height(),headerpx=45,marginpx=10;$(".row").css("max-height",maxpx-headerpx-marginpx+"px"),$(".col-md-4").css("max-height",maxpx-headerpx-marginpx+"px");var money,totalMoney,tokens,tokensOn,tokensRate,gameInit=!1,fps=60,interval=1e3/fps,t1=[new Building("Lemonade Stand",4,1,1.09,1.5,!1),new Building("Newspaper Stand",70,60,1.17,3,!1),new Building("Car-Wash",720,540,1.16,6,!1),new Building("Gas Extractor",8640,4320,1.15,12,!1),new Building("Meth Lab",103680,51840,1.14,24,!1),new Building("Bank",1244160,622080,1.13,96,!1),new Building("Movie Studio",14929920,7464961,1.12,384,!1),new Building("Oil Company",179159040,89579521,1.11,576,!1),new Building("Ship Company",2149908480,1074954241,1.1,1296,!1),new Building("Cookieverse",25789901760,29668737024,1.09,6144,!1)],t1owned=[],t1progress=[],managers=[new Manager("Cave Johnson (Lemonade Stand Manager)",1e3),new Manager("Rupert Murdoch (Newspaper Stand Manager)",15e3),new Manager("Gus (Car-Wash Manager)",1e5),new Manager("RichmanGas (Gas Extractor Manager)",5e5),new Manager("Heisenberg (Meth Lab Manager)",12e5),new Manager("Rockfeller (Bank Manager)",1e7),new Manager("Spielberg (Movie Studio Manager)",111111111),new Manager("Harold Hamm (Oil Company Manager",555555555),new Manager("Zoidberg (Ship Company Manager)",1e10),new Manager("Orteil (Cookieverse Manager)",1e11)],managersOwned=[],cheatAvert=0,moneyVerif=0,totalmoneyVerif=0,tokensVerif=0,allVars=["money","totalMoney","tokens","tokensOn","tokensRate","cheatAvert","t1owned","t1progress","moneyVerif","totalmoneyVerif","cheatAvert","tokensVerif","managersOwned"];window.onload=function(){initVars(),loadData(),initGame(),gameInit=!0},window.setInterval(function(){updateGame()},interval);